export interface TestResult {
  date: string;
  score: number;
  timestamp: number;
}

export const empathyQuestions = [
  { text: 'Мне больше нравятся книги о путешествиях, чем книги из серии «Жизнь замечательных людей»', reverse: true },
  { text: 'Взрослых детей раздражает забота родителей', reverse: true },
  { text: 'Мне нравится размышлять о причинах успехов и неудач других людей', reverse: false },
  { text: 'Среди всех музыкальных передач предпочитаю «Современные ритмы»', reverse: true },
  { text: 'Чрезмерную раздражительность и несправедливые упреки больного надо терпеть, даже если они продолжаются годами', reverse: false },
  { text: 'Больному человеку можно помочь даже словом', reverse: false },
  { text: 'Посторонним людям не следует вмешиваться в конфликт между двумя лицами', reverse: true },
  { text: 'Старые люди, как правило, обидчивы без причин', reverse: true },
  { text: 'Когда в детстве слушал грустную историю, на мои глаза сами по себе наворачивались слезы', reverse: false },
  { text: 'Раздраженное состояние моих родителей влияет на мое настроение', reverse: false },
  { text: 'Я равнодушен к критике в свой адрес', reverse: true },
  { text: 'Мне больше нравится рассматривать портреты, чем картины с пейзажами', reverse: false },
  { text: 'Я всегда прощал все родителям, даже если они были не правы', reverse: false },
  { text: 'Если лошадь плохо тянет, ее нужно хлестать', reverse: true },
  { text: 'Когда я читаю о драматических событиях в жизни людей, то чувствую, словно это происходит со мной', reverse: false },
  { text: 'Родители относятся к своим детям справедливо', reverse: false },
  { text: 'Видя ссорящихся подростков или взрослых, я вмешиваюсь', reverse: false },
  { text: 'Я не обращаю внимания на плохое настроение своих родителей', reverse: true },
  { text: 'Я подолгу наблюдаю за поведением птиц и животных, откладывая другие дела', reverse: false },
  { text: 'Фильмы и книги могут вызвать слезы только у несерьезных людей', reverse: true },
  { text: 'Мне нравится наблюдать за выражением лиц и поведением незнакомых людей', reverse: false },
  { text: 'В детстве я приводил домой кошек и собак', reverse: false },
  { text: 'Все люди необоснованно озлоблены', reverse: true },
  { text: 'Глядя на постороннего человека, мне хочется угадать, как сложится его жизнь', reverse: false },
  { text: 'При виде покалеченного животного я стараюсь чем-то помочь ему', reverse: false },
  { text: 'Человеку станет легче, если внимательно выслушать его жалобы', reverse: false },
  { text: 'Увидев уличное происшествие, я стараюсь не попадать в число свидетелей', reverse: true },
  { text: 'Младшим по возрасту людям свойственно завидовать старшим', reverse: true },
  { text: 'Мне хотелось разобраться, почему некоторые мои одноклассники иногда были задумчивы', reverse: false },
  { text: 'Беспризорных домашних животных следует отлавливать и уничтожать', reverse: true },
  { text: 'Если мои друзья начинают обсуждать со мной свои личные проблемы, я стараюсь перевести разговор на другую тему', reverse: true },
  { text: 'Мне нравится разбираться в причинах поступков людей, которые имеют со мной мало общего', reverse: false },
  { text: 'Я готов(а) forgive обиду', reverse: false },
  { text: 'Если кто-то рядом со мной нервничает, я тоже начинаю нервничать', reverse: false },
  { text: 'Мне больше нравятся профессии, связанные с общением с людьми', reverse: false },
  { text: 'Я волнуюсь за судьбу героев книг и фильмов', reverse: false }
];

export const getEmpathyLevel = (score: number) => {
  if (score >= 82) {
    return {
      level: 'Очень высокий уровень эмпатии',
      color: 'text-green-600',
      bgColor: 'bg-green-50',
      borderColor: 'border-green-200',
      icon: 'Heart',
      chartColor: '#16a34a',
      description: 'У вас очень высокий уровень эмпатии. Вы чувствительны к переживаниям других людей, легко понимаете их эмоциональное состояние.',
      traits: [
        'Глубоко чувствуете эмоции других людей',
        'Легко понимаете невербальные сигналы',
        'Искренне хотите помочь людям',
        'Тонко улавливаете настроение окружающих',
        'Способны к глубокому сопереживанию'
      ],
      risks: [
        'Эмоциональное выгорание',
        'Сложно отделить свои чувства от чужих',
        'Склонность брать на себя чужие проблемы',
        'Повышенная уязвимость к чужой боли'
      ],
      recommendations: 'Научитесь устанавливать эмоциональные границы. Практикуйте техники самозаботы и восстановления. Помните: вы можете помочь другим, только если сами в ресурсе.'
    };
  } else if (score >= 63) {
    return {
      level: 'Высокий уровень эмпатии',
      color: 'text-blue-600',
      bgColor: 'bg-blue-50',
      borderColor: 'border-blue-200',
      icon: 'Users',
      chartColor: '#2563eb',
      description: 'У вас высокий уровень эмпатии. Вы хорошо понимаете чувства других и умеете оказывать поддержку.',
      traits: [
        'Хорошо понимаете эмоции других',
        'Умеете слушать и поддерживать',
        'Чувствительны к потребностям окружающих',
        'Способны к эмоциональному отклику'
      ],
      risks: [
        'Возможны эмоциональные перегрузки',
        'Иногда трудно сказать «нет»',
        'Склонность жертвовать своими интересами'
      ],
      recommendations: 'Развивайте эмоциональный интеллект дальше, но не забывайте о собственных потребностях. Учитесь балансировать между помощью другим и заботой о себе.'
    };
  } else if (score >= 37) {
    return {
      level: 'Средний уровень эмпатии',
      color: 'text-yellow-600',
      bgColor: 'bg-yellow-50',
      borderColor: 'border-yellow-200',
      icon: 'User',
      chartColor: '#ca8a04',
      description: 'У вас средний уровень эмпатии. Вы способны понимать других, но в некоторых ситуациях можете испытывать трудности.',
      traits: [
        'Можете понять чувства близких людей',
        'В комфортной обстановке проявляете сочувствие',
        'Сохраняете баланс между своими и чужими эмоциями'
      ],
      risks: [
        'Иногда сложно понять тонкие эмоции',
        'Может не хватать инициативы в поддержке',
        'Возможны трудности в новых социальных ситуациях'
      ],
      recommendations: 'Развивайте навыки активного слушания. Практикуйте внимательность к эмоциям других. Читайте художественную литературу — это развивает эмпатию.'
    };
  } else if (score >= 12) {
    return {
      level: 'Низкий уровень эмпатии',
      color: 'text-orange-600',
      bgColor: 'bg-orange-50',
      borderColor: 'border-orange-200',
      icon: 'AlertCircle',
      chartColor: '#ea580c',
      description: 'У вас низкий уровень эмпатии. Вам может быть сложно понимать и разделять чувства других людей.',
      traits: [
        'Рациональный подход к решению проблем',
        'Эмоциональная стабильность',
        'Способность принимать объективные решения'
      ],
      risks: [
        'Трудности в близких отношениях',
        'Конфликты из-за непонимания чувств других',
        'Можете казаться холодным или безразличным',
        'Сложности в командной работе'
      ],
      recommendations: 'Работайте над развитием эмпатии через осознанность и практику активного слушания. Обратитесь к психологу для развития эмоционального интеллекта. Это навык, который можно развить.'
    };
  } else {
    return {
      level: 'Очень низкий уровень эмпатии',
      color: 'text-red-600',
      bgColor: 'bg-red-50',
      borderColor: 'border-red-200',
      icon: 'XCircle',
      chartColor: '#dc2626',
      description: 'У вас очень низкий уровень эмпатии. Это может значительно влиять на ваши отношения с людьми.',
      traits: [
        'Высокая объективность',
        'Не подвержены эмоциональному влиянию',
        'Логический склад ума'
      ],
      risks: [
        'Серьезные трудности в личных отношениях',
        'Частые конфликты и непонимание',
        'Одиночество и изоляция',
        'Проблемы в социальной адаптации'
      ],
      recommendations: 'Настоятельно рекомендуется работа с психологом. Эмпатия — это навык, который можно развить. Начните с малого: старайтесь замечать эмоции других, задавайте вопросы о чувствах.'
    };
  }
};

export const calculateScore = (answers: number[]) => {
  let score = 0;
  answers.forEach((answer, index) => {
    const question = empathyQuestions[index];
    if (question.reverse) {
      score += (6 - answer);
    } else {
      score += answer;
    }
  });
  return score;
};
